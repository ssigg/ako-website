addons:
  apt:
    packages:
    - sshpass

language: node_js
node_js:
  - stable

script:
  - npm run build

env:
  global:
  - secure: MkbZszz/B1uziuT1lWHsDGRePfOhhmtP3qm6hFB0xc+oyYmbcD5jDCG0HgsRPLSzaZguRQ2FEaLbQOSacDvwbQRXfM8/GkTW0gMd+Hhtv9ThTlNaOgAEdhZLA3FzzNVLdGDERgHQAJtmru5K8NmNrMXiNI3eD1XllzosfI07Aw8st8WeKQHhOyfrwAsZ2jlVUdHN5jR6OhFAlK6XhUI0B9ppR3/38Dt7cmBcz15/z/l61sdPdNFc2UbfHPU3pvh21nw2lBhAsHJulKuULBfs1gDRMiYJPhpVJDHkC3eKoCDYI5KelZCF8i0cpCxpjKebCEQFBlv2QOgUp/kdeaJyEfDooeW8rZQjhdeqyvhy/Tyw1tVsjCLj7HbU8cz1Bxr+Eii/gf50gAZxqWxlQJGbPmbkcl3N4SaXVL4QHP/QXvCzQakyHIzUUG7c9FckWBwxTwMHW/H+HaC+umIK/avpgkJVRy/KRK/eRSlgd5nLCNJ1OJk8uxn/Yawltu1ScOJfXSmL4ApDUTOGNM4CVj2mj+I/FLgZn+qVYAqWlzjMSbE/uPXUQzaA7ig+y0OySpj3NN1irNqdufH2rsyvirICFfxxYEZUVKLBTYk4p4fFpyellCxj4twQ5UkVgtF8atAHWg3ykt55O1l3YL9jHLH0EJKWG2s7Tv0lC0j5w7fJNsg=
  - secure: DAm4LmTmmdmm/fJCwV9n/Y3aiF4cLD3VPTtYlBKmd7zd7qgq98PqLgRBgTq7xuzJh2JzleIUFVINz78sZKCW9eHBufaiFd2x9KJ90BxgcygpCse79cThOxMslDR7pFkMATnpOpvULxZiMygvuSmDkpL+n+U/1FZ/8XLlmJsT1b0mfmLFemuFTldraWCj4GgWy7I1ieQITbfBEy9hFTKowU4iqLfY0Rh9ZdXYU103kMbfw0yZi0koW3MSvRImNXI2B4OrlPTyk4ZfalvhBkrful0GvbBy66+TrkPtIGY+SdrvmXGwQfSVIy7tiSOYVVTPmW0m7ft+HKONJ3aCeXkMoJKycoTR+wgSROljWijsMoBRshW1mIkBbkDaGgtKozNQD/lFkOn/JhrEEqivtbLrlA/4Clr92EKI+15IJ1PrfMZMG3Gkk0L6C8PdPl2jfHrOHyqxBsx+uNDKcyNaM3Rpuyy//rYOSIBu2EjFuIxUQ6OrbsLBJY5lxxoMuVOv3F8RBBbmpabI2WL2nzrSyTKKqAGT/b/sWBPMXlTK5N/rG7b1ncxtV8bAiiuw7Vh/3gABn5lBIrs0Uh4pc17/GSL16lUJZOD5g/YuPlCY9LHEYtpxudoDmmDBThXtQdm7DyAYR7LyXqBFzywSUWqiBWh/iryxPUdEEbTQLAY15upS3bM=
  - secure: UGe/b+V2I/gT7eW8G6ss8ICeSsfznkfD7deTADtunsRgy9Jl+gYdXlTXuwjK3cHMkdDrCVOacd3cvwgqIbKv7WWwwwB2YQ6fkpAaJvQPnmHFFDd/i6DNiuOKd8elY0QjfPTLnRKGBbHMBHdSewdXal6s+aUuFRETsF8xBD8uz8oahh4OXadiS3y334eJppLcVUQw6DnS27Q4De/7fqa1jkDYC7ot4ruBDVZJHyenaEetst4B/gnxzI65Mxh5Jd7jjRJap0fnYcGutc+OQYwWOZD+Co4pU0k3WeSNCjMjpOAk+Av0aOJjF7QgIwSw0RoTm2blnkPSOo9Dr8T9PnGkZ6coZ9+TWA5/BvB13aapIv9Ed2RYj0vwf05SWuc2b8iqej9b40gU4BUyI3WoTCwNhaaEW8zTZsrI4reMsTFqZg5Bpy6vlSvK9Sganeijpxf8Lr3C+nwShcrgg5yXPaaoBk7YJYarf4EL/8ifdUWLtDbD1zRSJ3eZKTktwk8CYf/o1KQ1bMV9EIrOb/b+7OC4oDzCZfv6m/BBLf36yhZjMdJMh5y64WHkMxJlfG6ebi0QGZ7IHm0g6VKuwItAzD6a7SrR/LTBvLr4AGz3dQ30k6dnZczdIr4jVnHiEYrr3v7DhiDVaVgtrk7Y/md1dli4RRo0xAFpU5ADTUsP6TTWcVk=
  - secure: GiRfXMfkt1/iAuLiZFb/902aOKRhtRyTUivPsmTuSjlLHJI+yJofzgvSK6NE1zxVqfSBsudiO5rFrLjAt1gxlKv071QOS5QP5NSvxOGAfcIx1l6FvsTzx7ajSs4k2M2lFgibpLz/bpM1WRu0PKr51HF7LyFA6a5XDu8kX6AtjDVFBPvKldAycxQdbN37i7D6ffL0FnDzeNc6iupp4/sIAF9CoiIuFJgpjtW8p0dzRrlH0qsfQm8MlCeMayuGyr5jD2bh4ZsatRu2aqfuRAsc39Gga7bRNapgYwAmGRfKNvCe9V7X9ttgmE+aqYnESF86Arr9yNzE/ifejQholHizT7UDgsRdrm5sbpoCrlPrttJ/wJPolE9vBFmDxIFaKQvShdO/HQkvfnHlTkNryDDvvLpwBf6Ms6wNQDORMwvz6xBMqnHzPL3N3ZmdgMshpw/zQJzJIry4ZHG0dkm9qgVq71KeW6ff9tFtXgOzYydlJBu1+6BPtIZTmoftbpJfC4QJQZh3BSfHYIVNMhkr/4lBNPUf2qPDkv326KWWeLtJwWDB0ocMytFYkbX/mYFB+6JJZSX5oDWC3H8LDCda5P7qjDDLpqYqr0Sx3vfmOQ7myZwiLsa4MfqEgwEftJVr18bqDOPzIKENQUczbt6wU/z5mt1hZ3sR7dGLqBxILzqz9+A=
  - secure: D1X7zslJOBSn0/eL9V4ERSYVlAQjluRwLH7AErGT7oiiMwR7DnBJeyTiXlexySCbJXCu3Y8Cl27AK2sTiU3ERBpqnkxDHqksaf37vzwyaYzD/cNPTwBZHN29AaWAC/F4qBUsipxqIq7CLbN6gUiTDbOIbPoYvtqHj9h49xOKuWVqbn+bJLL09TmSh8MbRaQgu1ec0pNmoBd56eWUFlYZ6GoKZaVMaBOjD0pJWOlbDB5YKOVV0Tfm8QfDbfIjEoDrXzNtm4IiwC6EcjngpWE6HBjgObEMolWKJz2XWOXGo11v4QE5rvYyvajz+ZYn4ph2W7Om9m+FAacefhwNjrJuaZjEDEOD7yMgqhI8KhDMXOIpzHu/zGGNxiMgNaKDIe0QDm3KbSeYWwTFAsQAFDAX9zpMgZMBG0fmQtvi6pzhplc+Zk47J8StqjHQzNoVhegsbPxXppCk+luVas7Q0MpaJn43Xaobsn6HUHwhLlnOiMV8hnYthAPfoyQoAuYATykg48bQWhskPTaf58R9USm879rQGX78sKTtlAItGzcq0kIdd3WDIB5sdeCuGo5yAMEOxlUmUbEy8WrkHwHgiyQWnUFDFr8hAtilaAnZpx1zSxIpaIi15tgsy143cyKwgsxVPuhytTT5YUN0WMVRKHqKohIyKQ8wlg6y3+vfnVzmTPg=

after_success:
  - export SSHPASS=$DEPLOY_PASS
  - sshpass -e scp -r -P $DEPLOY_PORT -o stricthostkeychecking=no public/* $DEPLOY_USER@$DEPLOY_HOST:$DEPLOY_PATH